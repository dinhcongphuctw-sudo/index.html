<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
body { margin:0; overflow:hidden; background:skyblue; }
canvas { display:block; }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let player = {
  x:100,
  y:canvas.height-150,
  w:40,
  h:50,
  dy:0,
  gravity:0.8,
  jump:-15,
  onGround:true
};

let ground = canvas.height-80;
let moveLeft = false;
let moveRight = false;

document.addEventListener("touchstart", e=>{
  let xTouch = e.touches[0].clientX;
  if(xTouch < innerWidth/2){
    moveLeft = true;
  } else {
    if(player.onGround){
      player.dy = player.jump;
      player.onGround = false;
    }
  }
});

document.addEventListener("touchend", ()=>{
  moveLeft = false;
});

function update(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if(moveLeft){
    player.x -= 5;
  }

  player.dy += player.gravity;
  player.y += player.dy;

  if(player.y + player.h >= ground){
    player.y = ground - player.h;
    player.dy = 0;
    player.onGround = true;
  }

  ctx.fillStyle="green";
  ctx.fillRect(0,ground,canvas.width,80);

  ctx.fillStyle="red";
  ctx.fillRect(player.x,player.y,player.w,player.h);

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
